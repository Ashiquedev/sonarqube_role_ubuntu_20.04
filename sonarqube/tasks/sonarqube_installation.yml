---
- name: create sonar group
  ansible.builtin.group:
    name: sonar
    state: present
- name: createuser
  ansible.builtin.user:
    name: sonar
    state: present
    group: sonar
    home: /opt/sonarqube
    password: sonar
- name: installing zip
  ansible.builtin.package:
    name: zip
    state: present
    update_cache: yes   
- name: Unarchive sonarqube
  ansible.builtin.unarchive:
    src: "{{ sonarqube_download_url }}"
    dest: /opt/sonarqube/
    owner: sonar
    group: sonar  
          
    #remote_src: yes
    mode: '0750'
    extra_opts: "[--strip-components=1]"
    
    
    
    